# ============================================================================
# UNIFIED DEPLOYMENT ENVIRONMENT CONFIGURATION
# astron-agent + astron-rpa Integration
# ============================================================================

# ============================================================================
# GENERAL CONFIGURATION
# ============================================================================
COMPOSE_PROJECT_NAME=astron-unified
ASTRON_DOMAIN=http://localhost
RUN_ENVIRON=production

# ============================================================================
# NETWORK CONFIGURATION
# ============================================================================
NETWORK_SUBNET=172.50.0.0/16

# ============================================================================
# SHARED INFRASTRUCTURE CONFIGURATION
# ============================================================================

# MySQL Database (Shared)
MYSQL_ROOT_PASSWORD=UnifiedRoot123!
MYSQL_DATABASE=astron_unified
EXPOSE_MYSQL_PORT=3306

# Redis Cache (Shared)
REDIS_PASSWORD=UnifiedRedis123!
EXPOSE_REDIS_PORT=6379

# MinIO Object Storage (Shared)
MINIO_ROOT_USER=unified-admin
MINIO_ROOT_PASSWORD=UnifiedMinio123!
EXPOSE_MINIO_PORT=9000
EXPOSE_MINIO_CONSOLE_PORT=9001

# ============================================================================
# ASTRON-AGENT SPECIFIC INFRASTRUCTURE
# ============================================================================

# PostgreSQL Database
POSTGRES_DB=sparkdb_manager
POSTGRES_USER=spark
POSTGRES_PASSWORD=SparkDB123!
EXPOSE_POSTGRES_PORT=5432

# Elasticsearch
ELASTICSEARCH_SECURITY_ENABLED=false
ES_JAVA_OPTS=-Xms1g -Xmx1g
EXPOSE_ELASTICSEARCH_PORT=9200
EXPOSE_ELASTICSEARCH_TRANSPORT_PORT=9300

# Kafka
EXPOSE_KAFKA_PORT=9092

# ============================================================================
# ASTRON-RPA SERVICE PORTS
# ============================================================================
CASDOOR_PORT=8000
RPA_AI_SERVICE_PORT=8010
RPA_OPENAPI_SERVICE_PORT=8020
RPA_RESOURCE_SERVICE_PORT=8030
RPA_ROBOT_SERVICE_PORT=8040
RPA_FRONTEND_PORT=32742

# ============================================================================
# ASTRON-AGENT SERVICE PORTS
# ============================================================================
AGENT_CORE_PORT=17870
AGENT_RPA_PORT=8003
AGENT_KNOWLEDGE_PORT=7881
AGENT_MEMORY_PORT=7882
AGENT_TENANT_PORT=7883
AGENT_WORKFLOW_PORT=7880
AGENT_CONSOLE_FRONTEND_PORT=1881
AGENT_CONSOLE_HUB_PORT=8080

# ============================================================================
# RPA INTEGRATION CONFIGURATION
# ============================================================================
# API Keys for RPA service authentication
RPA_API_KEY=unified-rpa-api-key-2024
RPA_API_SECRET=unified-rpa-secret-key-2024

# RPA Service URLs (used by astron-agent RPA plugin)
RPA_TASK_CREATE_URL=http://rpa-openapi-service:8020/api/v1/tasks/create
RPA_TASK_QUERY_URL=http://rpa-openapi-service:8020/api/v1/tasks
RPA_AI_SERVICE_URL=http://rpa-ai-service:8010
RPA_RESOURCE_SERVICE_URL=http://rpa-resource-service:8030
RPA_ROBOT_SERVICE_URL=http://rpa-robot-service:8040

# ============================================================================
# REVERSE PROXY CONFIGURATION
# ============================================================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ============================================================================
# HEALTH CHECK CONFIGURATION
# ============================================================================
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=60

# ============================================================================
# RESOURCE LIMITS (Optional - Uncomment to enable)
# ============================================================================
# CPU_LIMIT_MYSQL=1
# MEMORY_LIMIT_MYSQL=2g
# CPU_LIMIT_REDIS=0.5
# MEMORY_LIMIT_REDIS=1g
# CPU_LIMIT_ELASTICSEARCH=2
# MEMORY_LIMIT_ELASTICSEARCH=4g
# CPU_LIMIT_KAFKA=1
# MEMORY_LIMIT_KAFKA=2g

# ============================================================================
# DEVELOPMENT/DEBUG CONFIGURATION
# ============================================================================
# Set to true for development mode
DEBUG_MODE=false
LOG_LEVEL=INFO

# Enable/disable specific services for testing
ENABLE_RPA_SERVICES=true
ENABLE_AGENT_SERVICES=true
ENABLE_MONITORING=true

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=7

# ============================================================================
# SSL/TLS CONFIGURATION (for production)
# ============================================================================
SSL_ENABLED=false
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
ENABLE_PROMETHEUS=false
ENABLE_GRAFANA=false
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000

